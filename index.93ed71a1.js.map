{"mappings":"YAAA,IAAMA,EAAO,CACXC,WAAYC,SAASC,cAAc,mBACnCC,KAAMF,SAASC,cAAc,aAG/BH,EAAKC,WAAWI,iBAAiB,UAEjC,SAAsBC,GACpBA,EAAMC,iBAEN,IAAuBC,EAAAF,EAAMG,cAAcC,SAAnCC,EAAeH,EAAfG,KAAMC,EAASJ,EAATI,MAUhB,SAAwBD,EAAMC,GAC5B,IAAMC,EAAW,+BACXC,EAAY,iBAIZC,EAAS,IAAIC,gBAAgB,CACjCC,IAJc,kCAKdC,EAAGP,EACHC,KAAMA,EACNO,KAAM,OAER,OAAOC,MAAM,GAAcC,OAAXR,GAAwBQ,OAAbP,EAAU,KAAUO,OAAPN,IAAUO,MAAK,SAAAC,GACrD,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAEvB,OAAOH,EAAKI,M,KAxBdC,CAAejB,EAAKkB,MAAOjB,EAAKiB,OAC7BP,MACC,SAAAQ,G,OAAS9B,EAAKI,KAAK2B,UAAyBD,EAAKE,SAASC,YA4B3DC,KACC,SAAAC,G,IACEC,EAAID,EAAJC,KAAIC,EAAAF,EACJG,IACEC,EAASF,EAATE,UAASC,EAAAH,EACTI,UAAaC,EAAIF,EAAJE,KAAMC,EAAIH,EAAJG,K,MAEjB,gDACsBtB,OAAdqB,EAAK,WACErB,OADOsB,EAAK,wDAEJtB,OADRe,EAAK,4CAEEf,OADCsB,EAAK,2CACItB,OAAVkB,EAAU,sB,IAGvCK,KAAK,G,IAxCLC,OAAM,SAAAC,G,OAAOC,QAAQC,IAAIF,E,IACzBG,SAAQ,W,OAAM3C,EAAM4C,OAAOC,O","sources":["src/index.js"],"sourcesContent":["const refs = {\n  searchForm: document.querySelector('.js-search-form'),\n  list: document.querySelector('.js-list'),\n};\n\nrefs.searchForm.addEventListener('submit', handleSearch);\n\nfunction handleSearch(event) {\n  event.preventDefault();\n\n  const { city, days } = event.currentTarget.elements;\n\n  serviceWeather(city.value, days.value)\n    .then(\n      data => (refs.list.innerHTML = createMarkup(data.forecast.forecastday))\n    )\n    .catch(err => console.log(err))\n    .finally(() => event.target.reset());\n}\n\nfunction serviceWeather(city, days) {\n  const BASE_URL = 'http://api.weatherapi.com/v1';\n  const END_POINT = '/forecast.json';\n  const API_KEY = 'cff0a8b9feab4eb0930155327230709';\n\n  // fetch(`${BASE_URL}${END_POINT}?key=${API_KEY}&q=${city}&days=${days}&lang=uk`);\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: city,\n    days: days,\n    lang: 'uk',\n  });\n  return fetch(`${BASE_URL}${END_POINT}?${params}`).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        date,\n        day: {\n          avgtemp_c,\n          condition: { icon, text },\n        },\n      }) => `<li class=\"weather-card\">\n        <img src=\"${icon}\" alt=\"${text}\" class=\"weather-icon\" />\n        <h2 class=\"date\">${date}</h2>\n        <h3 class=\"weather-text\">${text}</h3>\n        <h3 class=\"temperature\">${avgtemp_c} Â°C</h3>\n    </li>`\n    )\n    .join('');\n}\n"],"names":["$b8f9b7833fa37166$var$refs","searchForm","document","querySelector","list","addEventListener","event","preventDefault","_elements","currentTarget","elements","city","days","BASE_URL","END_POINT","params","URLSearchParams","key","q","lang","fetch","concat","then","resp","ok","Error","statusText","json","$b8f9b7833fa37166$var$serviceWeather","value","data","innerHTML","forecast","forecastday","map","param","date","_day","day","avgtemp_c","_condition","condition","icon","text","join","catch","err","console","log","finally","target","reset"],"version":3,"file":"index.93ed71a1.js.map"}